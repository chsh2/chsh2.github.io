<!DOCTYPE html>
<html lang="en-us" dir="ltr">
<head>
  <meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<meta name="description" content="Python Packages#NijiGPen&#39;s functionality relies on some third-party Python packages, which have to be separately downloaded and installed. If you have no experience with Blender add-ons that have similar requirements, it is strongly suggested to read this page before using the add-on.
Dependency Summary#The table below lists the packages required for each type of operation. Lacking a package will not affect operations that do not require it.">
<meta name="theme-color" content="#FFFFFF">
<meta name="color-scheme" content="light dark"><meta property="og:title" content="Python Packages" />
<meta property="og:description" content="Python Packages#NijiGPen&#39;s functionality relies on some third-party Python packages, which have to be separately downloaded and installed. If you have no experience with Blender add-ons that have similar requirements, it is strongly suggested to read this page before using the add-on.
Dependency Summary#The table below lists the packages required for each type of operation. Lacking a package will not affect operations that do not require it." />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://chsh2.github.io/nijigp/docs/get_started/installation/dependency/" /><meta property="article:section" content="docs" />


<title>Python Packages | NijiGPen Documentation</title>
<link rel="manifest" href="/nijigp/manifest.json">
<link rel="icon" href="/nijigp/favicon.png" type="image/x-icon">
  <link rel="alternate" hreflang="zh" href="https://chsh2.github.io/nijigp/zh/docs/get_started/installation/dependency/" title="Python依赖项">
<link rel="stylesheet" href="/nijigp/book.min.3bc88adb2893c54b24fa8617cb6dc6ca846aa5522c5275f3279db80d776e8d55.css" integrity="sha256-O8iK2yiTxUsk&#43;oYXy23GyoRqpVIsUnXzJ524DXdujVU=" crossorigin="anonymous">
  <script defer src="/nijigp/flexsearch.min.js"></script>
  <script defer src="/nijigp/en.search.min.fc89f62d1f56d98038beb556548036bbb81f48aeca045b037e0d80b9ca1e6fd5.js" integrity="sha256-/In2LR9W2YA4vrVWVIA2u7gfSK7KBFsDfg2Aucoeb9U=" crossorigin="anonymous"></script>
<!--
Made with Book Theme
https://github.com/alex-shpak/hugo-book
-->
  
</head>
<body dir="ltr">
  <input type="checkbox" class="hidden toggle" id="menu-control" />
  <input type="checkbox" class="hidden toggle" id="toc-control" />
  <main class="container flex">
    <aside class="book-menu">
      <div class="book-menu-content">
        
  <nav>
<h2 class="book-brand">
  <a class="flex align-center" href="/nijigp/"><span>NijiGPen Documentation</span>
  </a>
</h2>


<div class="book-search">
  <input type="text" id="book-search-input" placeholder="Search" aria-label="Search" maxlength="64" data-hotkeys="s/" />
  <div class="book-search-spinner hidden"></div>
  <ul id="book-search-results"></ul>
</div>



  



  
    
  


  


<ul class="book-languages">
  <li>
    <input type="checkbox" id="languages" class="toggle" />
    <label for="languages" class="flex justify-between">
      <a role="button" class="flex align-center">
        <img src="/nijigp/svg/translate.svg" class="book-icon" alt="Languages" />
        English
      </a>
    </label>

    <ul>
      
      <li>
        <a href="https://chsh2.github.io/nijigp/zh/docs/get_started/installation/dependency/">
          中文
        </a>
      </li>
      
    </ul>
  </li>
</ul>











  



  
  <ul>
    
      
        <li class="book-section-flat" >
          
  
  

  
    <span>Get Started</span>
  

          
  <ul>
    
      
        <li>
          
  
  

  
    <a href="/nijigp/docs/get_started/installation/" class="">Installation</a>
  

          
  <ul>
    
      
        <li>
          
  
  

  
    <a href="/nijigp/docs/get_started/installation/dependency/" class="active">Python Packages</a>
  

        </li>
      
    
  </ul>

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/nijigp/docs/get_started/basic_usage/" class="">Basic Usage</a>
  

        </li>
      
    
  </ul>

        </li>
      
    
      
        <li class="book-section-flat" >
          
  
  

  
    <span>Functionality</span>
  

          
  <ul>
    
      
        <li>
          
  
  

  
    <span>- Polygons -</span>
  

          
  <ul>
    
      
        <li>
          
  
  

  
    <a href="/nijigp/docs/functionality/polygon/bool/" class="">Boolean</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/nijigp/docs/functionality/polygon/offset/" class="">Offset</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/nijigp/docs/functionality/polygon/sweep/" class="">Sweep</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/nijigp/docs/functionality/polygon/holdout/" class="">Hole Holdout</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/nijigp/docs/functionality/polygon/hatch/" class="">Hatch Fill</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/nijigp/docs/functionality/polygon/shading/" class="">Shading</a>
  

        </li>
      
    
  </ul>

        </li>
      
    
      
        <li>
          
  
  

  
    <span>- Lines -</span>
  

          
  <ul>
    
      
        <li>
          
  
  

  
    <a href="/nijigp/docs/functionality/line/fit/" class="">Sketch Cleanup</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/nijigp/docs/functionality/line/tuning/" class="">Stroke Tuning</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/nijigp/docs/functionality/line/smart_fill/" class="">Smart Fill</a>
  

        </li>
      
    
  </ul>

        </li>
      
    
      
        <li>
          
  
  

  
    <span>- Meshes -</span>
  

          
  <ul>
    
      
        <li>
          
  
  

  
    <a href="/nijigp/docs/functionality/mesh/generation/" class="">Mesh Generation</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/nijigp/docs/functionality/mesh/management/" class="">Mesh Management</a>
  

        </li>
      
    
  </ul>

        </li>
      
    
      
        <li>
          
  
  

  
    <span>- Animations -</span>
  

          
  <ul>
    
      
        <li>
          
  
  

  
    <a href="/nijigp/docs/functionality/animation/frame_animation/" class="">Frame Animations</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/nijigp/docs/functionality/animation/rigging/" class="">Rigging Utilities</a>
  

        </li>
      
    
  </ul>

        </li>
      
    
      
        <li>
          
  
  

  
    <span>- Import/Export -</span>
  

          
  <ul>
    
      
        <li>
          
  
  

  
    <a href="/nijigp/docs/functionality/io/brushes/" class="">Brush Import</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/nijigp/docs/functionality/io/colors/" class="">Palette Import</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/nijigp/docs/functionality/io/clipboard/" class="">Clipboard Utilities</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/nijigp/docs/functionality/io/vectorizing_images/" class="">Vectorizing Images</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/nijigp/docs/functionality/io/psd_render/" class="">PSD Render</a>
  

        </li>
      
    
  </ul>

        </li>
      
    
  </ul>

        </li>
      
    
      
        <li class="book-section-flat" >
          
  
  

  
    <span>Tips</span>
  

          
  <ul>
    
      
        <li>
          
  
  

  
    <a href="/nijigp/docs/tips/scene_setup/" class="">Scene Setup</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/nijigp/docs/tips/limitations/" class="">Limitations</a>
  

        </li>
      
    
  </ul>

        </li>
      
    
      
        <li class="book-section-flat" >
          
  
  

  
    <span>Developer Notes</span>
  

          
  <ul>
    
      
        <li>
          
  
  

  
    <a href="/nijigp/docs/developer_notes/algorithms/" class="">Algorithm Design</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/nijigp/docs/developer_notes/data_structures/" class="">Data Structures</a>
  

        </li>
      
    
  </ul>

        </li>
      
    
  </ul>















</nav>




  <script>(function(){var e=document.querySelector("aside .book-menu-content");addEventListener("beforeunload",function(){localStorage.setItem("menu.scrollTop",e.scrollTop)}),e.scrollTop=localStorage.getItem("menu.scrollTop")})()</script>


 
      </div>
    </aside>

    <div class="book-page">
      <header class="book-header">
        
  <div class="flex align-center justify-between">
  <label for="menu-control">
    <img src="/nijigp/svg/menu.svg" class="book-icon" alt="Menu" />
  </label>

  <strong>Python Packages</strong>

  <label for="toc-control">
    
    <img src="/nijigp/svg/toc.svg" class="book-icon" alt="Table of Contents" />
    
  </label>
</div>


  
  <aside class="hidden clearfix">
    
  
<nav id="TableOfContents">
  <ul>
    <li><a href="#dependency-summary">Dependency Summary</a></li>
    <li><a href="#impact-of-operating-systems">Impact of Operating Systems</a></li>
    <li><a href="#package-installation">Package Installation</a>
      <ul>
        <li><a href="#alternative-method-1-custom-package-path">Alternative Method 1: Custom Package Path</a></li>
        <li><a href="#alternative-method-2-manual-installation">Alternative Method 2: Manual Installation</a></li>
      </ul>
    </li>
    <li><a href="#faq">FAQ</a></li>
  </ul>
</nav>



  </aside>
  
 
      </header>

      
      
  <article class="markdown"><h1 id="python-packages">
  Python Packages
  <a class="anchor" href="#python-packages">#</a>
</h1>
<p>NijiGPen's functionality relies on some third-party Python packages, which have to be separately downloaded and installed. If you have no experience with Blender add-ons that have similar requirements, it is strongly suggested to read this page before using the add-on.</p>
<h2 id="dependency-summary">
  Dependency Summary
  <a class="anchor" href="#dependency-summary">#</a>
</h2>
<p>The table below lists the packages required for each type of operation. Lacking a package will not affect operations that do not require it. For example, if you install this add-on just to import brushes and render PSD files, then you do not need to take any actions mentioned in this page.</p>
<table>
<thead>
<tr>
<th>Function</th>
<th>PyClipper</th>
<th>Scipy &amp; SkImage</th>
<th>Triangle</th>
</tr>
</thead>
<tbody>
<tr>
<td>Polygon (Bool, Offset &amp; Sweep)</td>
<td>Yes</td>
<td></td>
<td></td>
</tr>
<tr>
<td>Shading Calculation</td>
<td>Yes</td>
<td>Yes</td>
<td></td>
</tr>
<tr>
<td>Line Fitting</td>
<td></td>
<td>Yes</td>
<td></td>
</tr>
<tr>
<td>Line Shaping (Pinch, Taper)</td>
<td></td>
<td></td>
<td></td>
</tr>
<tr>
<td>Smart Fill</td>
<td>Yes</td>
<td>Yes</td>
<td></td>
</tr>
<tr>
<td>Mesh Generation <sup class="citation-ref">[See Below]</sup></td>
<td>Yes</td>
<td>Optional</td>
<td>Optional</td>
</tr>
<tr>
<td>Rigging Using Mesh</td>
<td></td>
<td></td>
<td></td>
</tr>
<tr>
<td>Rigging Using Hints <sup class="citation-ref">[See Below]</sup></td>
<td>Optional</td>
<td>Yes</td>
<td></td>
</tr>
<tr>
<td>Line Art Import</td>
<td></td>
<td>Yes</td>
<td></td>
</tr>
<tr>
<td>Color Image Import</td>
<td>Yes</td>
<td>Yes</td>
<td></td>
</tr>
<tr>
<td>Brush Import</td>
<td></td>
<td></td>
<td></td>
</tr>
<tr>
<td>SVG &amp; Palette Paste</td>
<td></td>
<td></td>
<td></td>
</tr>
<tr>
<td>PSD Render</td>
<td></td>
<td></td>
<td></td>
</tr>
</tbody>
</table>
<blockquote class="book-hint info">
  <p><strong>Mesh Generation</strong>: Only <code>pyclipper</code> is a mandatory requirement. However, the other packages are optional to enable some enhancements of the Interpolation operator:</p>
<ul>
<li><code>scipy</code> enables an advanced solver to calculate vertex depth.</li>
<li><code>triangle</code> enables an option to improve mesh quality, i.e., more uniformly distributed vertices.</li>
</ul>
<p><strong>Rigging Using Hints</strong>: <code>pyclipper</code> is required only when using lasso-shaped hints.</p>

</blockquote>

<h2 id="impact-of-operating-systems">
  Impact of Operating Systems
  <a class="anchor" href="#impact-of-operating-systems">#</a>
</h2>
<p>The add-on is available and has been tested in Windows, Linux and MacOS. However, there may be some specific issues in each OS:</p>




<div class="book-tabs"><input type="radio" class="toggle" name="tabs-uniqueid" id="tabs-uniqueid-0" checked="checked" />
  <label for="tabs-uniqueid-0">Windows</label>
  <div class="book-tabs-content markdown-inner"><p>Depending on the way Blender is installed, some additional attentions may be needed besides the normal package installation process.</p>
<ul>
<li><strong>Portable or Steam</strong>: No additional action required.</li>
<li><strong>Official Installer</strong>: If Blender is installed in a system folder (e.g., <code>C:\Program Files\Blender Foundation\</code>), it is recommended to run Blender as administrator to ensure the dependencies installed correctly.</li>
<li><strong>Microsoft Store</strong>: A custom package path is required to install packages. Normally, this will be handled automatically. Please refer to a <a href="./#alternative-method-1-custom-package-path">later section</a> for more information.</li>
</ul>
</div><input type="radio" class="toggle" name="tabs-uniqueid" id="tabs-uniqueid-1"  />
  <label for="tabs-uniqueid-1">MacOS</label>
  <div class="book-tabs-content markdown-inner">The <code>triangle</code> package is not fully tested for Apple silicon (M1/M2/M3) devices. It is possible that the package cannot be successfully installed. If that happens, please simply skip installing it. It has only minor negative effects.</div></div>

<h2 id="package-installation">
  Package Installation
  <a class="anchor" href="#package-installation">#</a>
</h2>
<p><img src="../dependency_management.png" alt="Panel" /></p>
<p>To install Python packages, the most straightforward way is the dependency manager in the add-on setting of the Preferences panel.</p>
<ul>
<li>
<p>Click the &quot;Check&quot; button to detect which packages have been installed, and click &quot;Install&quot; button for those missing (Internet connection is required).</p>
<ul>
<li>The logs during the installation will be printed in the panel, which will also indicate if the installation is successful.</li>
</ul>
</li>
<li>
<p>The &quot;Remove&quot; button works in the similar way to uninstall packages. However, it requires Blender to be restarted to apply the changes.</p>
</li>
</ul>
<p>If the installation fails, the reason may be shown in the logs. You may also consider reading the following sections about the alternative methods and the FAQ.</p>
<h3 id="alternative-method-1-custom-package-path">
  Alternative Method 1: Custom Package Path
  <a class="anchor" href="#alternative-method-1-custom-package-path">#</a>
</h3>
<p>Normally, packages are installed in Blender's directory. However, in the <code>Custom Package Path</code> option, an additional path can be assigned for Blender to find and load the packages from. This option may be useful in the following scenarios:</p>
<ul>
<li>You have multiple instances of Blender and/or Python installed, and do not want to download the packages repeatedly.</li>
<li>You do not have the write access to the Blender directory (e.g., when Blender is installed through Microsoft Store).</li>
</ul>
<blockquote class="book-hint info">
  <p>In the second case, the add-on will try to find this path automatically during the package installation. If that does not succeed, you may consider checking the following paths, which are some common places that packages may be installed to:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span><span style="color:#e6db74">&#34;[Your Blender Directory]/3.x/python/lib/site-packages&#34;</span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">(</span>Windows<span style="color:#f92672">)</span> <span style="color:#e6db74">&#34;%USERPROFILE%\AppData\Roaming\Python\Python310\site-packages&#34;</span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">(</span>Linux<span style="color:#f92672">)</span> <span style="color:#e6db74">&#34;~/.local/lib/python3.10/site-packages&#34;</span>
</span></span></code></pre></div>
</blockquote>

<h3 id="alternative-method-2-manual-installation">
  Alternative Method 2: Manual Installation
  <a class="anchor" href="#alternative-method-2-manual-installation">#</a>
</h3>
<p>The Python packages are installed and managed by <code>pip</code>. For Python users knowing how <code>pip</code> works, the required packages can also be installed manually using the commmand line or terminal:</p>
<ol>
<li>Enter Blender's directory in the command line. <a href="https://docs.blender.org/manual/en/latest/advanced/command_line/index.html">An official manual</a> is available.</li>
<li>Enable the <code>pip</code> module: <code>./python -m ensurepip --upgrade</code></li>
<li>Install packages: <code>./python -m pip install pyclipper triangle scikit-image</code></li>
</ol>
<blockquote class="book-hint info">
  You may consider these options when using <code>pip</code>: <code>--no-cache-dir</code>, <code>--force-reinstall</code>, <code>--only-binary</code>.
</blockquote>

<h2 id="faq">
  FAQ
  <a class="anchor" href="#faq">#</a>
</h2>
<details ><summary>The package installation succeeded, but the package status is still &quot;Not Installed&quot;.</summary>
  <div class="markdown-inner">
    This usually happens when you do not have the write access of the Blender directory, and the packages are automatically installed somewhere else. The path is usually shown in the logs. Please check if there are some lines containing a path ending with <code>site-packages</code>. If such a path can be found in the logs, refer to the <a href="./#alternative-method-1-custom-package-path">Custom Package Path</a> method and enter this path.
  </div>
</details>

<details ><summary>Blender stops responding after hitting the Install button.</summary>
  <div class="markdown-inner">
    <p>It is common that the download and installation may take some time. However, if Blender has no reponse for a long time, there might be network issues. Please make sure you have the Internet connection, and maybe use VPN if necessary.</p>
<p>It is possible that the display of logs can be lagged, until the operation finishes. To see the logs in real time, the same messages will also be shown in <code>[Window] - [Toggle System Console]</code> and without lags.</p>

  </div>
</details>

</article>
 
      

      <footer class="book-footer">
        
  <div class="flex flex-wrap justify-between">





</div>



  <script>(function(){function e(e){const t=window.getSelection(),n=document.createRange();n.selectNodeContents(e),t.removeAllRanges(),t.addRange(n)}document.querySelectorAll("pre code").forEach(t=>{t.addEventListener("click",function(){if(window.getSelection().toString())return;e(t.parentElement),navigator.clipboard&&navigator.clipboard.writeText(t.parentElement.textContent)})})})()</script>


 
        
      </footer>

      
  
  <div class="book-comments">

</div>
  
 

      <label for="menu-control" class="hidden book-menu-overlay"></label>
    </div>

    
    <aside class="book-toc">
      <div class="book-toc-content">
        
  
<nav id="TableOfContents">
  <ul>
    <li><a href="#dependency-summary">Dependency Summary</a></li>
    <li><a href="#impact-of-operating-systems">Impact of Operating Systems</a></li>
    <li><a href="#package-installation">Package Installation</a>
      <ul>
        <li><a href="#alternative-method-1-custom-package-path">Alternative Method 1: Custom Package Path</a></li>
        <li><a href="#alternative-method-2-manual-installation">Alternative Method 2: Manual Installation</a></li>
      </ul>
    </li>
    <li><a href="#faq">FAQ</a></li>
  </ul>
</nav>


 
      </div>
    </aside>
    
  </main>

  
</body>
</html>












